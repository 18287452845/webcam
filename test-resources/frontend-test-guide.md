# 前端交互测试指南

本文档描述如何手动执行前端交互测试用例。

## 前置条件

1. 后端服务已启动并运行在 `http://localhost:8080`
2. 使用现代浏览器（Chrome、Firefox、Edge等）
3. 确保有可用的摄像头（用于测试摄像头功能）

## 测试用例

### TC-FE-001: 首页页面加载

**测试步骤：**
1. 在浏览器中打开 `http://localhost:8080/index.html`
2. 观察页面是否正常显示

**预期结果：**
- 页面正常加载，显示"NXNS 云匹配认别系统"标题
- 显示"我是男生"和"我是女生"两个选择卡片
- 页面样式正常，背景图片显示

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-002: 跳转到拍照页

**测试步骤：**
1. 在首页点击"我是男生"或"我是女生"卡片
2. 观察页面跳转

**预期结果：**
- 页面跳转到 `capture.html`
- 新页面正常加载

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-003: 摄像头访问

**测试步骤：**
1. 打开 `capture.html` 页面
2. 当浏览器请求摄像头权限时，点击"允许"

**预期结果：**
- 浏览器弹出摄像头权限请求对话框
- 允许后，视频流正常显示在页面上
- 显示"准备就绪"或倒计时

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-004: 无摄像头权限

**测试步骤：**
1. 打开 `capture.html` 页面
2. 当浏览器请求摄像头权限时，点击"拒绝"或"阻止"

**预期结果：**
- 显示错误提示："请允许访问摄像头权限"
- 倒计时显示区域显示错误信息

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-005: 手动拍照

**测试步骤：**
1. 在 `capture.html` 页面，确保摄像头正常显示
2. 点击"立即拍照"按钮
3. 观察页面变化

**预期结果：**
- 按钮点击后，页面显示"拍摄中..."
- 随后显示"识别中..."
- 有闪光效果
- 图像被发送到后端

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-006: 上传图片

**测试步骤：**
1. 在 `capture.html` 页面
2. 点击"上传图片"按钮
3. 选择一张本地图片文件（建议使用有人脸的照片）

**预期结果：**
- 文件选择对话框打开
- 选择图片后，图片显示在页面上
- 显示"处理中..."
- 图片被发送到后端

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-007: 识别成功跳转

**测试步骤：**
1. 完成拍照或上传图片（使用有人脸的照片）
2. 等待识别完成

**预期结果：**
- 后端返回成功响应
- 页面自动跳转到 `/result?msg={JSON数据}`
- URL中包含编码后的JSON数据

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-008: 识别失败提示

**测试步骤：**
1. 上传一张无人脸的照片（如风景照）
2. 等待识别完成

**预期结果：**
- 后端返回失败响应（result="0"）
- 页面显示错误信息："未检测到面部"或类似的错误提示
- 3秒后自动跳转回首页 `index.html`

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

### TC-FE-009: 结果页面渲染

**测试步骤：**
1. 完成一次成功的识别流程
2. 观察结果页面显示

**预期结果：**
- 结果页面正确显示上传的图片
- 显示识别到的性别、年龄等信息
- 显示匹配的图片（根据性别显示male或female目录下的图片）
- 显示随机生成的描述信息

**实际结果：** [ ] PASS [ ] FAIL

**备注：**

---

## 测试结果汇总

| 测试用例ID | 测试名称 | 状态 | 备注 |
|-----------|---------|------|------|
| TC-FE-001 | 首页页面加载 | | |
| TC-FE-002 | 跳转到拍照页 | | |
| TC-FE-003 | 摄像头访问 | | |
| TC-FE-004 | 无摄像头权限 | | |
| TC-FE-005 | 手动拍照 | | |
| TC-FE-006 | 上传图片 | | |
| TC-FE-007 | 识别成功跳转 | | |
| TC-FE-008 | 识别失败提示 | | |
| TC-FE-009 | 结果页面渲染 | | |

**测试执行人：** _____________  
**测试日期：** _____________  
**测试环境：** _____________  

## 注意事项

1. 测试时请打开浏览器开发者工具（F12），查看控制台是否有错误信息
2. 检查网络请求，确认API调用是否正确
3. 记录任何异常行为或错误信息
4. 如果发现问题，请截图并记录详细的错误信息

